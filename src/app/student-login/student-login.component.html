<h1><i class="bi bi-person-circle"></i> Student Login</h1>
<hr>
<form *ngIf="!forgotPassword" (ngSubmit)="login()" #loginForm="ngForm">
  <div class="form-group">
    <label for="email">Email:</label>
    <input type="email" id="email" [(ngModel)]="credentials.email" name="email" required email>
    <div *ngIf="loginForm.submitted && loginForm.controls['email'].errors">
      <small *ngIf="loginForm.controls['email'].errors['required']">Email is required.</small>
      <small *ngIf="loginForm.controls['email'].errors['email']">Invalid email format.</small>
    </div>
  </div>

  <div class="form-group">
    <label for="password">Password:</label>
    <input type="password" id="password" [(ngModel)]="credentials.password" name="password" required minlength="6">
    <div *ngIf="loginForm.submitted && loginForm.controls['password'].errors">
      <small *ngIf="loginForm.controls['password'].errors['required']">Password is required.</small>
      <small *ngIf="loginForm.controls['password'].errors['minlength']">Password must be at least 6 characters long.</small>
    </div>
  </div>

  <button type="submit">Login</button><br/><br/>
  <button type="button" (click)="showForgotPasswordForm()">Forgot Password</button>
</form>

<form *ngIf="forgotPassword" (ngSubmit)="updatePassword()" #updatePasswordForm="ngForm">
  <div class="form-group">
    <label for="email">UserName:</label>
    <input type="email" id="email" [(ngModel)]="updateCredentials.email" name="email" required email>
    <div *ngIf="updatePasswordForm.submitted && updatePasswordForm.controls['email'].errors">
      <small *ngIf="updatePasswordForm.controls['email'].errors['required']">Email is required.</small>
      <small *ngIf="updatePasswordForm.controls['email'].errors['email']">Invalid email format.</small>
    </div>
  </div>

  <div class="form-group">
    <label for="newPassword">New Password:</label>
    <input type="password" id="newPassword" [(ngModel)]="updateCredentials.newPassword" name="newPassword" required minlength="6">
    <div *ngIf="updatePasswordForm.submitted && updatePasswordForm.controls['newPassword'].errors">
      <small *ngIf="updatePasswordForm.controls['newPassword'].errors['required']">New password is required.</small>
      <small *ngIf="updatePasswordForm.controls['newPassword'].errors['minlength']">New password must be at least 6 characters long.</small>
    </div>
  </div>

  <button type="submit">Update Password</button>
</form>

<!-- Modal structure -->
<div *ngIf="modalVisible" class="modal">
  <div class="modal-content">
    <span class="close" (click)="closeModal()">Ã—</span>
    <p>{{ modalMessage }}</p>
  </div>
</div>
